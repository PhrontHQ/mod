<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script type="text/mod-serialization">
        {
            "owner": {
                "values": {
                    "element": {"#": "main"},
                    "_fragment8": {"@": "fragment8"}
                }
            },

            "fragment1": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment1"},
                    "value": "<span style='color: #3498db; font-size: 3em;'>Hello</span><script>alert('hello');<\/script>"
                }
            },

            "fragment2": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment2"},
                    "value": "<div style='color: #e74c3c; font-size: 1.5em;'><span>Bonjour </span><div><div><i>nope</i><span>...</span></div></div><p>test</p><i>Montage</i></div>",
                    "allowedTags": ["div", "span"]
                }
            },

            "fragment3": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment3"},
                    "value": "<span class='fragment3' style='color: #f1c40f; font-size: 3em;' title='Hola' alt='hola'>Hola</span><script>alert('hola')<\/script>",
                    "allowedAttributes": {
                        "span": ["style", "title"]
                    }
                }
            },

            "fragment4": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment4"},
                    "value": "<style>.fragment4:after{content: attr(data-name);}</style><span class='fragment4' style='color: #f39c12; font-size: 2em;' title='Hello' data-name='Montage'>Hello </span>",
                    "allowedAttributes": {
                        "span": ["style", "title", "data-*", "class"]
                    },
                    "allowedTags": ["style", "span"]
                }
            },

            "fragment5": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment5"},
                    "value": "<html><head><style>.fragment5:after{content: attr(data-name); color: #2ecc71;}</style></head><body><span class='fragment5' style='font-size: 1.5em;' title='Bonjour' data-name='Montage'>Bonjour </span> </body></html>",
                    "allowedAttributes": {
                        "span": ["style", "title", "data-*", "class"]
                    },
                    "allowedTags": ["style", "span"]
                }
            },

            "fragment6": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment6"},
                    "value": "<style>.fragment6:after{content: attr(data-name);}</style><span class='fragment6' style='color: #9b59b6; font-size: 2em;' title='Hola' data-name='Montage'>Hola </span>",
                    "allowedAttributes": {
                        "span": ["style", "title", "data-*", "class"]
                    },
                    "allowedTags": ["span"]
                }
            },

            "fragment7": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment7"},
                    "value": "<svg height='100' width='100'><circle cx='50' cy='50' r='40' stroke='#c0392b' stroke-width='3' fill='#d35400' /></svg>",
                    "allowedAttributes": {
                        "svg": ["height", "width"],
                        "circle": false
                    },
                    "allowedTags": ["svg", "circle"]
                }
            },

            "fragment8": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment8"},
                    "delegate": {"=": "@owner"},
                    "value": "<style>.fragment8:after{content: attr(data-name);}</style><span class='fragment8' style='color: #9b59b6; font-size: 2em;' title='Hola' data-name='Montage'>Hola </span><p><i>montage</i></p>",
                    "allowedAttributes": {
                        "span": ["style", "title", "data-*", "class"]
                    },
                    "allowedTags": ["style", "span"]
                }
            },

            "fragment9": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment9"},
                    "value": "Plain Text should work"
                }
            },

            "checkbox": {
                "prototype": "mod/ui/checkbox.mod",
                "values": {
                    "element": {"#": "checkbox"}
                }
            },

            "repetition": {
                "prototype": "mod/ui/repetition.mod",
                "values": {
                    "element": {"#": "repetition"},
                    "content": {"<-": "@checkbox.checked ? @owner.content2 : @owner.content1"}
                }
            },

            "fragment10": {
                "prototype": "mod/ui/html-fragment.mod",
                "values": {
                    "element": {"#": "fragment10"},
                    "value": {"<-": "@repetition:iteration.object"}
                }
            }

        }
    </script>
</head>
<body>
    <div data-mod-id="main" class="Main">
        <header>Teach HTML Fragment Mod</header>
        <div class="content">
            <div data-mod-id="fragment1" class="html-fragment"></div>
            <div data-mod-id="fragment2" class="html-fragment"></div>
            <div data-mod-id="fragment3" class="html-fragment"></div>
            <div data-mod-id="fragment4" class="html-fragment"></div>
            <div data-mod-id="fragment5" class="html-fragment"></div>
            <div data-mod-id="fragment6" class="html-fragment"></div>
            <div data-mod-id="fragment7" class="html-fragment"></div>
            <div data-mod-id="fragment8" class="html-fragment"></div>
            <div data-mod-id="fragment9" class="html-fragment"></div>
            <div>
                <label for="checkbox">Switch content </label>
                <input id="checkbox" data-mod-id="checkbox" type="checkbox" />
            </div>
            <div data-mod-id="repetition">
                <div data-mod-id="fragment10" class="html-fragment"></div>
            </div>
        </div>
    </div>
</body>
</html>
